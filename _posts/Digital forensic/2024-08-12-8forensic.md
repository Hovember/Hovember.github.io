---
layout: single
title: "[Digital Forenisc] - JumpList"
excerpt: "윈도우 점프리스트 분석"
categories:
  - Forensic
date: 2024-08-12
last_modified_at: 2024-08-16
---

# 윈도우 점프리스트

점프리스트는 윈도우7부터 추가된 기능으로 사용자에게 편의성을 제공하기 위해 사용자가 최근 사용한 항목(Recent), 고정한 항목(Pinned), 자주사용한 항목(Frequent), 작업 항목(Tasks)에 빠르게 접근하기 위한 기능입니다. 

윈도우 작업표시줄에 있는 응용프로그램을 오른쪽 클릭하면 최근 열람한 파일의 목록이 나타나게 됩니다. 이러한 목록이 점프리스트 입니다. 

![](/assets/forensic/JumpList.png "점프리스트")

## 점프리스트 파일 위치 

1. %appdata%\Microsoft\Windows\Recent\AutomaticDestinations 
: 운영체제가 자동으로 생성하고 관리하며 최근항목(Recent)과 고정항목(Pinned)을 알 수 있습니다.

2. %appdata%\Microsoft\Windows\Recent\CustomDestinations
: 응용프로그램이 자체적으로 생성하고 관리하며 자주 사용하는 항목(Frequent)과 작업항목(Tasks)을 알 수 있습니다.

*운영체제 관점에서 사용자에게 편리한 기능을 제공하지만 
포렌식 관점에서 봤을 때는 사용자의 활동이 저장되어 행위를 파악할 수 있습니다.

점프리스트 파일 명은 응용프로그램별로 고유한 값으로 16자리의 16진수 값입니다. 
[여기서도](https://github.com/EricZimmerman/JumpList/blob/master/JumpList/Resources/AppIDs.txt) 확인할 수 있으며, 도구를 활용하면 여러 정보와 함께 더 쉽게 볼 수 있습니다. 

## 점프리스트 파일 구조

AutomaticDestinations는 OLE 파일 구조를 사용한다.
OLE 파일 내부에는 여러 Stream이 있으며,
점프리스트 파일에서 Stream은 우리가 원하는 정보인 링크 파일이다. <br>

OLE 구조에 "DestList"라는 Stream이 존재하는데 이는 각 Stream들(링크파일)의 간략한 정보를 가지고 있다.


  |OLE 파일 구조|
  | ----------- | 
  | LNK 파일 구조|
  | LNK 파일 구조| 
  | DestList 파일 구조 | 
  | LNK 파일 구조| 

![](/assets/forensic/JumpList/CDFFA.png "CDFFA로 본 점프리스트 파일 구조")

간단하게 설명을 하자면<BR> 
Compound Header는 OLE 파일 헤더 영역<BR>
이 밑으로 다 데이터 영역<br>
FAT은 BBAT<BR>
Mini FAT은 SBAT<BR>
10e(링크파일), 10f(링크파일), 110(링크파일), DestList 스트림

[OLE 파일 구조 알아보기]()

CustomDestinations 파일의 구조는 알 수 없다.<br>
하지만, Hxd 도구로 확인해 본 결과 불규칙적으로 링크파일 구조가 여러 개 존재<br>
CustomDestinations 파일도 AutomaticDestinations 파일과 같이 여러 링크파일로 구성되어 있는 구조이다.<br>

*그래서 점프리스트는 여러 링크파일이 모여 하나로 합쳐진 구조라고 말할 수 있습니다.<br>

*CustomDestinations 파일이 표준이 없어서 그런가 CDFFA 도구로는 확인할 수 없었습니다. <br>

*CustomDestinations 파일을 Hxd로 본 링크파일 개수와 JumpList Explorer로 본 링크파일 개수가 동일했습니다. 

![](/assets/forensic/JumpList/Cus.png "점프리스트")

![](/assets/forensic/JumpList/Cus2.png "점프리스트")

## 도구를 활용한 점프리스트 분석 

[JumpList Explorer](https://ericzimmerman.github.io/#!index.md)를 사용했습니다. 

설치하고 실행이 안되면 설치 페이지 맨 밑으로 내리면 Requirements and troubleshooting 있는데 여기에 방법이 나와있습니다. 

먼저 Load Jump lists를 눌러 분석하고자 하는 파일을 불러옵니다. 

![](/assets/forensic/JumpList/JumpList도구.png "점프리스트")

메모장에 대해 최근 항목과 고정 항목을 볼 수 있습니다.

실행했던 메모장 목록들의 열람했던 날짜, 수정한 날짜, 접근한 날짜를 확인할 수 있습니다. 또한, 이 파일들이 어디 있는지 경로와 이 파일을 몇 번 실행했는지 확인할 수 있습니다.

![](/assets/forensic/JumpList/실행횟수.png "실행 후 횟수")


이 파일이 고정되었는지 확인할 수도 있다. 

![](/assets/forensic/JumpList/JumpList도구2.png "점프리스트")

# 디지털 포렌식 관점

점프리스트를 통해 다음과 같은 정보를 알 수 있다. 

- 실행했던 응용 프로그램 이력 (최근, 자주)
- 열람했던 문서 이력 (최근, 자주)
- 방문했던 웹 사이트, 자주 방문했던 웹사이트

*웹 사이트 기록은 사용자의 주요 활동 패턴과 관심사를 파악하는데 도움이 된다.