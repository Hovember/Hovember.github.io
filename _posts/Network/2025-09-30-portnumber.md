---
title: "포트(Port)의 모든 것"
excerpt: "Port Number"
categories:
  - Network
date: 2025-09-30
last_modified_at: 2025-10-01
---
<br>

# Port

운영체제 통신에서의 종단점을 의미한다.

운영체제 통신? : 운영체제(OS)는 컴퓨터에서 여러 가지 자원 관리하는 역할을 한다. 그중 하나가 네트워크 통신이다.
채팅 앱으로 메시지를 보내거나, 웹 브라우저를 열고 인터넷에 접속하거나 등 이런 통신은 사용자가 직접 처리하는 것이 아닌,
운영체제가 중간에서 관리한다. 그래서 운영체제가 네트워크 통신을 관리한다를  운영체제 통신이라고 표현한다.

종단점(Endpoint)? : 통신을 주고받는 양쪽 끝(통신의 끝 지점), 즉, 데이터를 보내는 쪽과 받는 쪽을 말한다. 

즉, 포트는 통신에서 데이터를 주고 받기 위한 논리적 접속 지점이다.


# Port Number

하나의 컴퓨터 혹은 서버에서 실행 중인 여러 개의 프로세스 중에서 어떤 프로세스와 통신할지를 구분하기 위한 번호 

즉, 한 컴퓨터가 여러 개의 통신을 동시에 할 수 있으니, 누구한테 보내야 할지 정확히 알려주는 주소 안의 세부 위치

아파트 - IP 주소<br>
호수(1301호) - Port 번호<br>
거주자 - 프로그램

누군가가 우리 아파트(컴퓨터)에 찾아오면 몇 호인지(포트 번호)를 알아야 정확히 목적지(프로그램)를 찾을 수 있다.<br>
만약 포트 번호를 나누지 않으면 혼란이 생길 것이다....

## 포트 번호 범위

포트 번호는 16비트 숫자로 구성되어 0 ~ 65535번이 존재하며 65,536개(2^16)의 포트번호가 존재한다.

이 중에 0 ~ 1023번 까지는 이미 어떤 통신에 사용할 것인지 정해져 있다. 이를 Well-known ports라고 한다.

1024 ~ 49151번 까지는 Registered ports

49152 ~ 65535번 까지는 Dynamic ports 

### Well-known ports

<span style="background-color:red"> 0번 ~ 1023번 </span>

ip 주소나 도메인 포트 번호 같은 자원을 관리하는 공식 기관인 IANA 에서 전 세계적으로 표준으로 정한
포트 번호들이다.


| Well-known port | Application |
|  :----:   |    :----:   |
| 21 | FTP (파일 전송 프로토콜) |
| 22 | SSH (보안 원격 접속) |
| 23 | Telnet (원격 접속) |
| 25 | SMTP (메일 송신) |
| 53 | DNS |
| 80 | HTTP |
| 110 | POP3 (메일 수신) |
| 139 | SMB (서버 메시지 블록) |
| 143 | IMAP (메일 수신) |
| 445 | SMB (윈도우 파일 공유) |
    
    

### Registered ports

<span style="background-color:red"> 1024번 ~ 49151번 </span>

기업이나 조직에서 특정 포트 번호를 공식적으로 할당받기 위해 IANA 신청해서 등록한 포트 번호들이다.<br>
(특정 포트를 사서 독점하는 것이 아닌, 공식적으로 예약해서 충돌을 예방하자는 취지, 포트는 "주로 이 서비스에 사용한다"는 권고사항임)

| Registered port             |  Application                | 보안 중요성  |
| --------------------------- | --------------------------- | -------------------------- |
| **1025**                    | Microsoft RPC-like          | 랜덤 RPC/서비스 포트로 악성 트래픽에서 출현 |
| **1194**                    | OpenVPN (UDP/TCP)           | 원격 접속 터널링 — 비정상 연결 탐지 필요   |
| **1433**                    | Microsoft SQL Server        | DB 원격 접속 시도·취약점 악용 대상      |
| **1521**                    | Oracle DB Listener          | DB 서비스 공격/정보유출 경로          |
| **1701**                    | L2TP (VPN)                  | VPN 관련 공격 및 터널링 이상 징후      |
| **1883**                    | MQTT (IoT 메시징)              | IoT 장비 제어·정보 유출 가능성        |
| **2049**                    | NFS (파일공유)                  | 파일 공유 관련 침투·랜섬웨어 전파 경로     |
| **27017**                   | MongoDB                     | 무보호 DB 노출·데이터 탈취 사례 빈번     |
| **3306**                    | MySQL                       | DB 원격 접속 공격, 크리덴셜 스터핑      |
| **3389**                    | RDP (원격 데스크톱) — 등록 포트       | 원격 접속 공격·무차별 대입 대상         |
| **4444**                    | Metasploit default / RAT 흔적 | 침투 테스트·악성 툴에서 자주 사용        |
| **5000**                    | Flask 개발서버 등                | 개발용 서비스가 외부 노출될 때 문제       |
| **5060/5061**               | SIP / SIPS (VoIP)           | VoIP 스푸핑·클리어텍스트 노출         |
| **5432**                    | PostgreSQL                  | DB 공격 표적                   |
| **5631–5632**               | pcAnywhere / 원격관리           | 원격관리 취약점 악용 가능성            |
| **5900–5903**               | VNC (원격 데스크톱)               | 원격 제어 시도·무단 접속             |
| **5984**                    | CouchDB                     | 공개 DB 노출 사례                |
| **6379**                    | Redis                       | 인증 없이 쓰이면 원격코드 실행/데이터 노출   |
| **11211**                   | memcached                   | 증폭 공격·데이터 유출 가능            |
| **27015–27050**             | 게임 서버들 (Steam 등 변동)         | 비정상 트래픽·DDoS 표적            |
| **32400**                   | Plex Media Server           | 미디어 서버 노출로 정보 유출 가능        |
| **37777**                   | DVR/CCTV 제조사 포트             | IoT/CCTV 장비 노출로 임의 제어 위험   |
| **44444 / 55555 / 60000 등** | 악성/관리용 임의 포트                | C2(명령·제어)·비표준 통신에서 관찰됨     |

등록 포트는 “관례적” 사용이므로 같은 포트를 다른 앱이 쓸 수도 있다. 따라서 포트만으로 서비스 판단하지 말고 프로토콜·페이로드·행위(행동 기반 탐지)를 함께 봐야한다.

비표준 포트에서 표준 서비스(예: HTTP over 8080/8000 등)가 보이면 애플리케이션 구성 변화 또는 우회 통신일 수 있어 주목해야 한다.

**DB 포트(1433,3306,5432,27017 등)**는 외부에 노출되어 있지 않은지 정기적으로 스캔 — 노출 시 자동화 스캔·탈취 시도에 취약

높은 포트에서의 지속 연결이나 주기적 비정상 트래픽은 C2 통신이나 백도어 징후일 수 있다.


### Dynamic ports

<span style="background-color:red"> 49152번 ~ 65535번 </span>

사용자가 임의로 사용 가능한 포트 번호이다.

# 윈도우 포트 확인 명령어

<span style="background-color:yellow"> netstat </span><br>
프로토콜 통계와 현재 TCP/IP 네트워크 연결을 표시하는 명령어<br>
즉, 네트워크 상태를 보여주는 명령어로, 컴퓨터와 연결 중이거나 대기 중인 모든 네트워크 연결 정보 확인 가능

옵션 사용 안 할 경우 기본적인 연결 목록만 출력

**옵션**
- -a : 모든 포트 표시
- -n : "ip:port" 형식으로 표시 -> 이거 안 쓰면 도메인 해석해서 시간 오래 걸림
- -o : PID(프로세스ID) 표시
- -p : 지정한 프로토콜 연결 표시

```yaml
현재 열린 포트 확인 (LISTEN)
- TCP, UDP 모두 확인
netstat -ano | find "LISTEN"

TCP만 확인
netstat -anop tcp | findstr "LISTEN"

433 포트로 접속한 ip 확인
netstat -ano | findstr :443
```

- LISTENING : 열려 있는 포트, 외부 연결 기다리고 있는 서버 소켓
- ESTABLISHED : 현재 연결이 실제로 활성화되어 통신 중인 상태 즉, 클라이언트와 서버가 데이터를 주고받고 있는 상태
- CLOSE_WAIT : 연결이 종료된 후 잠시 대기 중인 상태


```yaml
현재 열려 있는 연결 확인해서 프로세스 종료 까지 

netstat -ano | find "ESTABLISHED

tasklist /FI "PID eq 443" (어떤 프로세스인지 확인)

taskkill /PID 443 /F (/F 강제종료)
```

```yaml
열려 잇는 포트 프로세스 확인하기
for /f "tokens=5" %a in ('netstat -ano ^| find "LISTEN"') do tasklist /FI "PID eq %a"
```

